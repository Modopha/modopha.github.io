<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Clicker - Dark Mode</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background-color: #2d2d2d;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            width: 400px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        #cookie {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: none;
            background-color: #3d3d3d;
            font-size: 2em;
            cursor: pointer;
            transition: transform 0.1s;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.1));
        }

        #cookie:hover {
            transform: scale(1.05);
            background-color: #4d4d4d;
        }

        #cookie:active {
            transform: scale(0.95);
        }

        #counter {
            font-size: 2.5em;
            margin: 20px 0;
            color: #00ff9d;
        }

        #shop-btn, #save-btn, #load-btn {
            background-color: #3d3d3d;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            color: #ffffff;
            cursor: pointer;
            transition: background-color 0.2s;
            margin: 5px;
        }

        #shop-btn:hover, #save-btn:hover, #load-btn:hover {
            background-color: #4d4d4d;
        }

        #shop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #252525;
            padding: 20px;
            border-radius: 15px;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
            visibility: hidden;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }

        #shop.open {
            transform: translateX(0);
            visibility: visible;
        }

        #close-shop {
            background-color: #ff4444;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            color: #ffffff;
            cursor: pointer;
            transition: background-color 0.2s;
            margin: 5px 0;
        }

        #close-shop:hover {
            background-color: #ff6666;
        }

        .upgrade, .ability {
            background-color: #3d3d3d;
            border: none;
            padding: 10px 20px;
            margin: 5px 0;
            border-radius: 8px;
            color: #ffffff;
            cursor: pointer;
            transition: background-color 0.2s;
            width: 80%;
        }

        .upgrade:hover, .ability:hover {
            background-color: #4d4d4d;
        }

        .upgrade:disabled, .ability:disabled {
            background-color: #333333;
            cursor: not-allowed;
            opacity: 0.6;
        }

        #stats {
            background-color: #252525;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
            font-size: 0.9em;
        }

        #stats p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cookie Clicker</h1>
        <button id="cookie">üç™</button>
        <div id="counter">Cookies: 0</div>
        <button id="shop-btn">Open Shop</button>
        <button id="save-btn">Save</button>
        <button id="load-btn">Load</button>
        <div id="stats">
            <p>Lifetime Cookies: <span id="lifetimeCookies">0</span></p>
            <p>Click Power Level: <span id="clickPowerLevel">1</span></p>
            <p>Auto Clickers: <span id="autoClickerCount">0</span></p>
            <p>Cookie Multiplier: <span id="cookieMultiplier">1x</span></p>
            <p>Golden Cookie Chance: <span id="goldenChance">0%</span></p>
            <p>Factories: <span id="factoryCount">0</span></p>
            <p>Cookies Per Second: <span id="cookiesPerSecond">0</span></p>
        </div>
        <div id="shop">
            <button id="close-shop">Close Shop</button>
            <h2>Shop</h2>
            <button class="upgrade" id="clickUpgrade">Click Power</button>
            <button class="upgrade" id="autoClicker">Auto Clicker</button>
            <button class="upgrade" id="multiplierUpgrade">Cookie Multiplier</button>
            <button class="upgrade" id="goldenUpgrade">Golden Cookie Chance</button>
            <button class="upgrade" id="factoryUpgrade">Cookie Factory</button>
            <h2>Abilities</h2>
            <button class="ability" id="frenzy">Frenzy (Cost: 1000)</button>
            <button class="ability" id="luckyDay">Lucky Day (Cost: 5000)</button>
        </div>
    </div>

    <script>
        let cookies = 0;
        let lifetimeCookies = 0;
        let clickValue = 1;
        let clickPowerLevel = 0;
        let autoClickers = 0;
        let cookieMultiplier = 1;
        let goldenChance = 0;
        let factories = 0;
        let frenzyActive = false;
        let luckyDayActive = false;

        const costs = {
            clickUpgrade: { base: 50, scale: 1.15, count: 0 },
            autoClicker: { base: 100, scale: 1.15, count: 0 },
            multiplierUpgrade: { base: 500, scale: 1.5, count: 0 },
            goldenUpgrade: { base: 1000, scale: 1.3, count: 0 },
            factoryUpgrade: { base: 2000, scale: 1.2, count: 0 }
        };

        const cookie = document.getElementById('cookie');
        const counter = document.getElementById('counter');
        const shopBtn = document.getElementById('shop-btn');
        const shop = document.getElementById('shop');
        const closeShopBtn = document.getElementById('close-shop');
        const saveBtn = document.getElementById('save-btn');
        const loadBtn = document.getElementById('load-btn');
        const clickUpgrade = document.getElementById('clickUpgrade');
        const autoClicker = document.getElementById('autoClicker');
        const multiplierUpgrade = document.getElementById('multiplierUpgrade');
        const goldenUpgrade = document.getElementById('goldenUpgrade');
        const factoryUpgrade = document.getElementById('factoryUpgrade');
        const frenzyBtn = document.getElementById('frenzy');
        const luckyDayBtn = document.getElementById('luckyDay');
        const lifetimeCookiesDisplay = document.getElementById('lifetimeCookies');
        const clickPowerLevelDisplay = document.getElementById('clickPowerLevel');
        const autoClickerCountDisplay = document.getElementById('autoClickerCount');
        const cookieMultiplierDisplay = document.getElementById('cookieMultiplier');
        const goldenChanceDisplay = document.getElementById('goldenChance');
        const factoryCountDisplay = document.getElementById('factoryCount');
        const cookiesPerSecondDisplay = document.getElementById('cookiesPerSecond');

        // Calculate current cost
        function getCost(upgrade) {
            return Math.floor(costs[upgrade].base * Math.pow(costs[upgrade].scale, costs[upgrade].count));
        }

        // Update display and browser tab title
        function updateDisplay() {
            counter.textContent = `Cookies: ${Math.floor(cookies)}`;
            document.title = `${Math.floor(cookies)} Cookies - Cookie Clicker`;
            lifetimeCookiesDisplay.textContent = Math.floor(lifetimeCookies);
            clickPowerLevelDisplay.textContent = clickPowerLevel;
            autoClickerCountDisplay.textContent = autoClickers;
            cookieMultiplierDisplay.textContent = `${cookieMultiplier}x`;
            goldenChanceDisplay.textContent = `${goldenChance}%`;
            factoryCountDisplay.textContent = factories;
            cookiesPerSecondDisplay.textContent = (autoClickers + factories * 5) * cookieMultiplier * (frenzyActive ? 3 : 1);

            clickUpgrade.textContent = `Click Power (Cost: ${getCost('clickUpgrade')})`;
            autoClicker.textContent = `Auto Clicker (Cost: ${getCost('autoClicker')})`;
            multiplierUpgrade.textContent = `Cookie Multiplier (Cost: ${getCost('multiplierUpgrade')})`;
            goldenUpgrade.textContent = `Golden Cookie Chance (Cost: ${getCost('goldenUpgrade')})`;
            factoryUpgrade.textContent = `Cookie Factory (Cost: ${getCost('factoryUpgrade')})`;

            clickUpgrade.disabled = cookies < getCost('clickUpgrade');
            autoClicker.disabled = cookies < getCost('autoClicker');
            multiplierUpgrade.disabled = cookies < getCost('multiplierUpgrade');
            goldenUpgrade.disabled = cookies < getCost('goldenUpgrade') || goldenChance >= 100;
            factoryUpgrade.disabled = cookies < getCost('factoryUpgrade');
            frenzyBtn.disabled = cookies < 1000 || frenzyActive;
            luckyDayBtn.disabled = cookies < 5000 || luckyDayActive;
        }

        // Cookie click
        cookie.addEventListener('click', () => {
            let clickEarnings = clickValue * cookieMultiplier * (frenzyActive ? 3 : 1);
            if (Math.random() * 100 < goldenChance * (luckyDayActive ? 2 : 1)) {
                clickEarnings *= 7;
                alert('Golden Cookie! 7x bonus!');
            }
            cookies += clickEarnings;
            lifetimeCookies += clickEarnings;
            updateDisplay();
        });

        // Upgrades
        clickUpgrade.addEventListener('click', () => {
            const cost = getCost('clickUpgrade');
            if (cookies >= cost) {
                cookies -= cost;
                clickValue++;
                clickPowerLevel++;
                costs.clickUpgrade.count++;
                updateDisplay();
            }
        });

        autoClicker.addEventListener('click', () => {
            const cost = getCost('autoClicker');
            if (cookies >= cost) {
                cookies -= cost;
                autoClickers++;
                costs.autoClicker.count++;
                updateDisplay();
            }
        });

        multiplierUpgrade.addEventListener('click', () => {
            const cost = getCost('multiplierUpgrade');
            if (cookies >= cost) {
                cookies -= cost;
                cookieMultiplier *= 2;
                costs.multiplierUpgrade.count++;
                updateDisplay();
            }
        });

        goldenUpgrade.addEventListener('click', () => {
            const cost = getCost('goldenUpgrade');
            if (cookies >= cost && goldenChance < 100) {
                cookies -= cost;
                goldenChance += 5;
                if (goldenChance > 100) goldenChance = 100;
                costs.goldenUpgrade.count++;
                updateDisplay();
            }
        });

        factoryUpgrade.addEventListener('click', () => {
            const cost = getCost('factoryUpgrade');
            if (cookies >= cost) {
                cookies -= cost;
                factories++;
                costs.factoryUpgrade.count++;
                updateDisplay();
            }
        });

        // Abilities
        frenzyBtn.addEventListener('click', () => {
            if (cookies >= 1000 && !frenzyActive) {
                cookies -= 1000;
                frenzyActive = true;
                alert('Frenzy activated! 3x earnings for 30 seconds!');
                setTimeout(() => {
                    frenzyActive = false;
                    updateDisplay();
                    alert('Frenzy ended!');
                }, 30000);
                updateDisplay();
            }
        });

        luckyDayBtn.addEventListener('click', () => {
            if (cookies >= 5000 && !luckyDayActive) {
                cookies -= 5000;
                luckyDayActive = true;
                alert('Lucky Day activated! Double golden chance for 60 seconds!');
                setTimeout(() => {
                    luckyDayActive = false;
                    updateDisplay();
                    alert('Lucky Day ended!');
                }, 60000);
                updateDisplay();
            }
        });

        // Auto clicker and factory interval
        setInterval(() => {
            const autoEarnings = (autoClickers + factories * 5) * cookieMultiplier * (frenzyActive ? 3 : 1);
            cookies += autoEarnings;
            lifetimeCookies += autoEarnings;
            updateDisplay();
        }, 1000);

        // Shop controls
        shopBtn.addEventListener('click', () => {
            shop.classList.add('open');
        });

        closeShopBtn.addEventListener('click', () => {
            shop.classList.remove('open');
        });

        // Save and Load
        function saveGame() {
            const gameState = {
                cookies,
                lifetimeCookies,
                clickValue,
                clickPowerLevel,
                autoClickers,
                cookieMultiplier,
                goldenChance,
                factories,
                costs
            };
            localStorage.setItem('cookieClickerSave', JSON.stringify(gameState));
            alert('Game saved!');
        }

        function loadGame() {
            const savedState = localStorage.getItem('cookieClickerSave');
            if (savedState) {
                const gameState = JSON.parse(savedState);
                cookies = gameState.cookies || 0;
                lifetimeCookies = gameState.lifetimeCookies || 0;
                clickValue = gameState.clickValue || 1;
                clickPowerLevel = gameState.clickPowerLevel || 0;
                autoClickers = gameState.autoClickers || 0;
                cookieMultiplier = gameState.cookieMultiplier || 1;
                goldenChance = gameState.goldenChance || 0;
                factories = gameState.factories || 0;
                costs.clickUpgrade.count = gameState.costs.clickUpgrade.count || 0;
                costs.autoClicker.count = gameState.costs.autoClicker.count || 0;
                costs.multiplierUpgrade.count = gameState.costs.multiplierUpgrade.count || 0;
                costs.goldenUpgrade.count = gameState.costs.goldenUpgrade.count || 0;
                costs.factoryUpgrade.count = gameState.costs.factoryUpgrade.count || 0;
                updateDisplay();
                alert('Game loaded!');
            } else {
                alert('No saved game found!');
            }
        }

        saveBtn.addEventListener('click', saveGame);
        loadBtn.addEventListener('click', loadGame);

        // Initial display update
        updateDisplay();
    </script>
</body>
</html>